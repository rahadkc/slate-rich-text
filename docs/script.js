(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{204:function(e,t,n){},206:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(16),o=n.n(l),c=(n(95),n(33)),i=n(34),u=n(36),s=n(35),d=n(37),m=n(82),b=n(22),k=n(23),h=n(88),p=n(2),f=n(10),v=n(25),g=n(12),E=function(e){return r.a.createElement("div",{className:"format-toobar"},e.children)},y=n(60);function B(){var e=Object(k.a)(["\n  padding: 10px;\n  height: 34px;\n  border-radius: 6px;\n"]);return B=function(){return e},e}var x=v.a.input(B());function j(e){return r.a.createElement(x,e)}function w(){var e=Object(k.a)(["\n  background: ",";\n  color: ",";\n  border:none;\n  box-shadow:none;\n  border-radius: 6px;\n  cursor: pointer;\n  display: inline-block;\n  padding: 9px;\n  margin: 0 5px;\n\n  :hover {\n    opacity: 0.7;\n  }\n"]);return w=function(){return e},e}function O(){var e=Object(k.a)(["\n  display: block;\n  max-width: 100%;\n  max-height: 20em;\n  margin-top: 10px;\n  margin-bottom: 10px"]);return O=function(){return e},e}var C=v.a.img(O()),S=v.a.button(w(),function(e){return e.primary?"#74e2d3":"white"},function(e){return e.primary?"white":"#74e2d3"}),M={blocks:{image:{isVoid:!0}}},N="paragraph",D=Object(f.isKeyHotkey)("alt+b"),I=Object(f.isKeyHotkey)("alt+i"),J=Object(f.isKeyHotkey)("alt+u"),K=Object(f.isKeyHotkey)("alt+`"),q=JSON.parse(localStorage.getItem("content")),H=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={value:p.m.fromJSON(q||y)},n.blockCount=0,n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(m.a)({},r,parseInt(a,10)))},n.handleSaveContent=function(e){if("save"===e){var t=JSON.stringify(n.editor.value.toJSON());localStorage.setItem("content",t)}else n.setState({value:p.m.fromJSON(q||y)})},n.hasMark=function(e){return n.state.value.activeMarks.some(function(t){return t.type===e})},n.hasBlock=function(e){return n.state.value.blocks.some(function(t){return t.type===e})},n.ref=function(e){n.editor=e},n.renderMarkButton=function(e,t){var a=n.hasMark(e);return r.a.createElement("button",{className:"tooltip-icon-button",active:a.toString(),onMouseDown:function(t){return n.onClickMark(t,e)}},r.a.createElement("i",null,t))},n.renderBlockButton=function(e,t){var a=n.hasBlock(e);if(["numbered-list","bulleted-list"].includes(e)){var l=n.state.value,o=l.document,c=l.blocks;if(c.size>0){var i=o.getParent(c.first().key);a=n.hasBlock("list-item")&&i&&i.type===e}}return r.a.createElement("button",{className:"tooltip-icon-button",active:a.toString(),onMouseDown:function(t){return n.onClickBlock(t,e)}},r.a.createElement("i",null,t))},n.renderImageButton=function(e,t){var a=n.hasBlock(e);return r.a.createElement("button",{className:"tooltip-icon-button imgBtn",active:a.toString()},r.a.createElement("input",{type:"file",ref:"file",onChange:function(e){return n.handleUploadImage(e)}}),r.a.createElement("b",null,t))},n.renderEditor=function(e,t,a){var l=n.state.blockLimit,o=a(),c=e.value.document.getBlocks().size;return r.a.createElement("div",null,r.a.createElement("div",null,o),r.a.createElement("div",{className:"editor-tools"},r.a.createElement("h3",null,"Block Count: ",c),r.a.createElement("h3",null,"Max block limit: ",l||"None")))},n.renderNode=function(e,t,a){var l=e.attributes,o=e.parent,c=e.children,i=e.node,u=e.isFocused;switch(n.blockCount=o.getBlocks().size,i.type){case"block-quote":return r.a.createElement("blockquote",l,c);case"bulleted-list":return r.a.createElement("ul",l,c);case"heading-one":return r.a.createElement("h1",l,c);case"heading-two":return r.a.createElement("h2",l,c);case"list-item":return r.a.createElement("li",l,c);case"numbered-list":return r.a.createElement("ol",l,c);case"image":var s=i.data.get("src");return r.a.createElement(C,Object.assign({src:s,selected:u},l));default:return a()}},n.renderMark=function(e,t,n){var a=e.children,l=e.mark,o=e.attributes;switch(l.type){case"bold":return r.a.createElement("strong",o,a);case"code":return r.a.createElement("code",o,a);case"italic":return r.a.createElement("em",o,a);case"underlined":return r.a.createElement("u",o,a);default:return n()}},n.insertImage=function(e,t,n){n&&e.select(n),e.insertBlock({type:"image",data:{src:t}})},n.onChange=function(e){var t=e.value;n.setState({value:t})},n.onKeyDown=function(e,t,a){if(n.blockCount>n.state.blockLimit&&"Backspace"!==e.key)e.preventDefault();else{var r;if(D(e))r="bold";else if(I(e))r="italic";else if(J(e))r="underlined";else{if(!K(e))return a();r="code"}e.preventDefault(),t.toggleMark(r)}},n.onClickMark=function(e,t){e.preventDefault(),n.editor.toggleMark(t)},n.onClickBlock=function(e,t){e.preventDefault();var a=Object(b.a)(Object(b.a)(n)).editor,r=a.value,l=r.document;if("bulleted-list"!==t&&"numbered-list"!==t){var o=n.hasBlock(t);n.hasBlock("list-item")?a.setBlocks(o?N:t).unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):a.setBlocks(o?N:t)}else{var c=n.hasBlock("list-item"),i=r.blocks.some(function(e){return!!l.getClosest(e.key,function(e){return e.type===t})});c&&i?a.setBlocks(N).unwrapBlock("bulleted-list").unwrapBlock("numbered-list"):c?a.unwrapBlock("bulleted-list"===t?"numbered-list":"bulleted-list").wrapBlock(t):a.setBlocks("list-item").wrapBlock(t)}},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(E,null,this.renderMarkButton("bold",r.a.createElement(g.b,null)),this.renderMarkButton("italic",r.a.createElement(g.c,null)),this.renderMarkButton("underlined",r.a.createElement(g.g,null)),this.renderMarkButton("code",r.a.createElement(g.a,null)),this.renderBlockButton("heading-one","H1"),this.renderBlockButton("heading-two","H2"),this.renderBlockButton("block-quote",r.a.createElement(g.f,null)),this.renderBlockButton("numbered-list",r.a.createElement(g.e,null)),this.renderBlockButton("bulleted-list",r.a.createElement(g.d,null)),this.renderImageButton("image",r.a.createElement(g.h,null)),r.a.createElement(j,{type:"number",placeholder:"Set Block limit",name:"blockLimit",onChange:this.handleChange}),r.a.createElement("div",{className:""},r.a.createElement(S,{primary:!0,onClick:function(){return e.handleSaveContent("save")}},"Save"),r.a.createElement(S,{onClick:function(){return e.handleSaveContent("cancel")}},"Cancel"))),r.a.createElement("div",{className:"editor-field"},r.a.createElement(h.a,{spellCheck:!0,autoFocus:!0,placeholder:"Enter some rich text...",schema:M,ref:this.ref,value:this.state.value,onChange:this.onChange,onKeyDown:this.onKeyDown,renderNode:this.renderNode,renderEditor:this.renderEditor,renderMark:this.renderMark})))}},{key:"handleUploadImage",value:function(e){var t=this,n=new FileReader,a=e.target.files[0];n.addEventListener("load",function(){return t.setState({src:n.result},function(){t.editor.command(t.insertImage,t.state.src)})}),n.readAsDataURL(a)}}]),t}(r.a.Component),L=(n(204),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"editor"},r.a.createElement(H,null)))}}]),t}(a.Component));o.a.render(r.a.createElement(L,null),document.getElementById("root"))},60:function(e){e.exports={document:{nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:"This is editable "},{text:"rich",marks:[{type:"bold"}]},{text:" text, "},{text:"much",marks:[{type:"italic"}]},{text:" better than a "},{text:"<textarea>",marks:[{type:"code"}]},{text:"!"}]}]},{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:"Since it's rich text, you can do things like turn a selection of text "},{text:"bold",marks:[{type:"bold"}]},{text:", or add a semantically rendered block quote in the middle of the page, like this:"}]}]},{object:"block",type:"block-quote",nodes:[{object:"text",leaves:[{text:"A wise quote."}]}]},{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:"Try it out for yourself!"}]}]}]}}},90:function(e,t,n){e.exports=n(206)},95:function(e,t,n){}},[[90,2,1]]]);
//# sourceMappingURL=main.232724ae.chunk.js.map